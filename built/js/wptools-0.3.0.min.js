var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){if(!a)return"";for(var b="",c,d,f,e,h,g,k=0;k<a.length;)c=a.charCodeAt(k++),d=a.charCodeAt(k++),f=a.charCodeAt(k++),e=c>>2,c=(c&3)<<4|d>>4,h=(d&15)<<2|f>>6,g=f&63,isNaN(d)?h=g=64:isNaN(f)&&(g=64),b=b+this._keyStr.charAt(e)+this._keyStr.charAt(c)+this._keyStr.charAt(h)+this._keyStr.charAt(g);return b},decode:function(a){if(!a)return"";var b="",c,d,f,e,h,g=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,
"");g<a.length;)c=this._keyStr.indexOf(a.charAt(g++)),d=this._keyStr.indexOf(a.charAt(g++)),e=this._keyStr.indexOf(a.charAt(g++)),h=this._keyStr.indexOf(a.charAt(g++)),c=c<<2|d>>4,d=(d&15)<<4|e>>2,f=(e&3)<<6|h,b+=String.fromCharCode(c),64!==e&&(b+=String.fromCharCode(d)),64!==h&&(b+=String.fromCharCode(f));return b=Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");var b="",c=0,d;for(c;c<a.length;c++)d=a.charCodeAt(c),128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>
6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128));return b},_utf8_decode:function(a){for(var b="",c=0,d=0,f=0,e=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):191<d&&224>d?(f=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|f&63),c+=2):(f=a.charCodeAt(c+1),e=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(f&63)<<6|e&63),c+=3);return b},is_base64:function(a){if(!a||!a.trim)return!1;a=a.replace(/\n/g,"");return 0==
a.length%4&&/[A-Za-z0-9+/=]+/.test(a)},try_decode:function(a){return a?Base64.is_base64(a)?Base64.decode(a):(console.error('Base64.try_decode(): Not base64: "'+a+'"'),a):(console.error("Base64.try_decode(): Falsey string"),"")}},wptools={version:"0.3.0",default_ace_langname:"Python",default_ace_theme:"ace/theme/solarized_dark",default_ace_themename:"Solarized Dark",wpalert:function(a,b){var c=$("#floater");if(c.length){var d=$("#floater-msg"),f=$("#floater-smalltext");d.html(a);b&&f.html(b);c.fadeIn();
wptools.center(c,!0);setTimeout(function(){c.fadeOut();d.html("");f.html("")},5E3)}else b&&(a=a+"\n\n"+b),window.alert($("<div>"+a+"</div>").text())},center:function(a,b,c){var d=$(document).width();a=a instanceof jQuery?a:$(a);var f=a.css("position"),e=-1,h=-1,g=e=-1;"fixed"!==f&&"absolute"!==f&&(a.css({position:"absolute"}),console.log("Forced position:absolute on "+a));a&&f&&(h=(d-a.outerWidth())/2,a.css({right:h+"px"}),b&&(e=a.outerHeight(),g=c?window.outerHeight:window.innerHeight,e=(g-e)/2,
a.css({top:e+"px"})));return{x:h,y:e}},csrf_safe_method:function(a){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(a)},is_hidden:function(a){a=(a instanceof jQuery?a:$(a)).css("display");return!a||"none"===a},is_address:function(a){return-1<a.search(/^[\d\w\.]+@[\d\w\.]+.[\d\w\.]+$/)},is_emptystr:function(a){if(a){if("function"===typeof a.replace&&""===a.replace(/\s/g,""))return!0}else return!0;return!1},is_mailto:function(a){return-1<a.search(/^mailto:[\d\w\.]+@[\d\w\.]+.[\d\w\.]+$/)},has_localstorage:function(){try{return window.hasOwnProperty("localStorage")&&
null!==window.localStorage}catch(a){return!1}},hide_debug:function(){$(".debug-box").hide();$(".debug-button-text").text("show debug")},load_css:function(a){var b=document.createElement("link");b.href=a;b.type="text/css";b.rel="stylesheet";document.getElementsByTagName("head")[0].appendChild(b)},navigateto:function(a){window.location.href=a},pre_ajax:function(){var a=$.cookie("csrftoken");$.ajaxSettings.traditional=!0;$.ajaxSetup({crossDomain:!1,beforeSend:function(b,c){wptools.csrf_safe_method(c.type)||
b.setRequestHeader("X-CSRFToken",a)}})},scroll_element:function(a,b){b||(b=0);var c=a instanceof jQuery?a:$(a),d=c.offset().top;$(window).scroll(function(){if(!wptools.is_hidden(a)){var f=$(this).scrollTop();f<d?c.stop().animate({top:b},500):c.stop().animate({top:f-d},500)}})},scroll_to_anchor:function(a,b){var c=a instanceof jQuery?a:$(a);if(c){var d=b||"slow";$("html,body").animate({scrollTop:c.offset().top},d)}},select:function(a,b){return"string"!==typeof a?null:(b||document).querySelector(a)},
select_all:function(a,b){return"string"!==typeof a?[]:(b||document).querySelectorAll(a)},setup_ace_snippet:function(a,b,c){var d=c||{encoded:!0};c=$(document.getElementById(a));if(c.length){var f=c.text(),e="",e=!1===d.encoded?f:Base64.try_decode(f);a=ace.edit(a);a.$blockScrolling=Infinity;a.setTheme(wptools.default_ace_theme);a.setAnimatedScroll(!0);a.setFontSize(14);a.setReadOnly(!0);b=ace.require("ace/ext/modelist").getModeForPath(b||".txt");d=a.getSession();d.setMode(b.mode||"ace/mode/text");
a.setValue(e);d.getSelection().selectFileStart();e=d.getDocument().getLength();a.renderer.setShowGutter(1!==e);b=c.find(".ace_gutter-cell").css("height");e&&b&&(b=parseInt(b.replace(/px/,""),10),isNaN(b)||(e*=b)&&!isNaN(e)&&340>e&&c.css({height:e+2+"px"}));c.animate({opacity:1})}},show_debug:function(){$(".debug-box").show();$(".debug-button-text").text("hide debug")},strdup:function(a,b){var c="",d=0;if(b&&0<b)for(d;d<b;d++)c+=a;return c},toggle_debug:function(){wptools.is_hidden(".debug-box")?wptools.show_debug():
wptools.hide_debug()},trim_whitespace:function(a){return a.replace&&"function"===typeof a.replace?a.replace(/\s/g,""):a},vertical_element:function(a,b){b||(b=0);var c=a instanceof jQuery?a:$(a),d=$(this).scrollTop();1<c.length&&(c=c.get(0));c.css({top:d+b+"px"})},wpaddress:function(a){var b=Base64.decode(a).replace("\n","");return this.is_address(b)||this.is_mailto(b)?b:a},wpreveal:function(a){a=document.querySelectorAll(a||".wp-address");var b=0,c;if(!a.length)return!1;for(b;b<a.length;b++)(c=a[b].getAttribute("href"))&&
(c=c.valueOf())&&a[b].setAttribute("href",this.wpaddress(c)),c=$(a[b]),c.html(this.wpaddress(c.html()));return!0}},misctools={fixLongDescBtn:function(a){a=$("#misclongdescbtn-"+a);"Show Less"===a.text()?a.text("Show More"):a.text("Show Less")},submitMisc:function(a){$("#viewer-filename").val(a);$("#file-viewer").submit()},toggleLongDesc:function(a){$("#misclongdesc-"+a).slideToggle();$("#miscusage-"+a).slideToggle();this.fixLongDescBtn(a)}},wprotator_settings={width:"100%",height:300,thumb_width:24,
thumb_height:24,button_width:24,button_height:24,button_margin:5,auto_start:!0,delay:5E3,play_once:!1,transition:"fade",transition_speed:1E3,auto_center:!0,easing:"easeInBack",cpanel_position:"inside",cpanel_align:"BL",timer_align:"top",display_thumbs:!0,display_dbuttons:!0,display_playbutton:!0,display_thumbimg:!1,display_side_buttons:!1,display_numbers:!0,display_timer:!0,mouseover_select:!1,mouseover_pause:!0,cpanel_mouseover:!0,text_mouseover:!1,text_effect:"fade",text_sync:!1,tooltip_type:"none",
shuffle:!1,block_size:75,vert_size:55,horz_size:50,block_delay:25,vstripe_delay:75,hstripe_delay:180};
