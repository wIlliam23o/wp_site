var github_badge={version:"0.0.3",username:null,userinfo:null,avatar_url:null,name:null,repos:0,forks:0,stars:0,followers:0,build:function(a,d,c){github_badge.get_info(a,function(){d($(github_badge.render_template(github_badge)))},c)},get_info:function(a,d,c){github_badge.username=a;$.ajax("https://api.github.com/users/"+a,{dataType:"json",error:function(a,d){c(d)},success:function(a){github_badge.userinfo=a;github_badge.parse_info(a,d,c)}})},parse_info:function(a,d,c){var b=function(a,c){var b=parseInt(a,
10);return"NaN"===b.toString()?c||0:b};github_badge.name=a.name||"unknown";github_badge.avatar_url=a.avatar_url||null;github_badge.repos=b(a.public_repos,0);github_badge.followers=b(a.followers,0);$.ajax("https://api.github.com/users/"+github_badge.username+"/repos",{dataType:"json",error:function(a,b){c(b)},success:function(a){var b=a.length,c=0,h=0,l=0,m=0,k;if(b){for(c;c<b;c++)k=a[c],void 0===k.fork||k.fork||h++,k.stargazers_count&&(l+=k.stargazers_count),k.forks_count&&(m+=k.forks_count);github_badge.repos=
h;github_badge.stars=l;github_badge.forks=m;d()}}})},render_template:function(a){var d=1===a.forks?"":"s",c=1===a.stars?"":"s",b=1===a.repos?"repo":"repos",f="fork"+d,d="time"+d,g="star"+c,c="time"+c,e="follower"+(1===a.followers?"":"s"),h=function(a){return 1E3>a?a.toString():(a/1E3).toFixed(1)+"k"};return['<div id="github-badge">\n  <div id="github-badge-branding">\n    <a href="https://github.com" target="_blank">\n      <div class="github-badge-branding-label">github.com</div>\n    </a>\n  </div>\n  <div id="github-badge-main">\n    <div class="github-badge-header">',
'      <a href="https://github.com/'+a.username+'">','        <img class="github-badge-avatar" src="'+a.avatar_url+'">',"      </a>",'      <a href="https://github.com/'+a.username+'">','        <div class="github-badge-username"><strong>'+a.username+"</strong></div>","      </a>",'      <div class="github-badge-name">'+a.name+"</div>",'    </div>\n    <ul class="github-badge-info">\n      <li class="github-badge-info-left">','        <div class="github-badge-info-item" title="'+a.name+" has created "+
a.repos+" "+b+'.">','          <span class="github-badge-info-value">'+h(a.repos)+"</span>",'          <span class="github-badge-info-label">'+b+"</span>","        </div>",'        <div class="github-badge-info-item" title="'+a.name+" has been forked "+a.forks+" "+d+'.">','          <span class="github-badge-info-value">'+h(a.forks)+"</span>",'          <span class="github-badge-info-label">'+f+"</span>",'        </div>\n      </li>\n      <li class="github-badge-info-right">','        <div class="github-badge-info-item" title="'+
a.name+" has been starred "+a.stars+" "+c+'.">','          <span class="github-badge-info-value">'+h(a.stars)+"</span>",'          <span class="github-badge-info-label">'+g+"</span>","        </div>",'        <div class="github-badge-info-item" title="'+a.name+" has "+a.followers+" "+e+'.">','          <span class="github-badge-info-value">'+h(a.followers)+"</span>",'          <span class="github-badge-info-label">'+e+"</span>","      </li>\n    </ul>\n  </div>\n</div>"].join("\n")},replace_deviant:function(a,
d,c){var b=document.getElementsByTagName("github-badge");b.length&&b[0].shadowRoot||($("github-badge").remove(),"function"===typeof c&&c(),github_badge.build(d,function(b){$(a).append(b)},function(b){console.warn("Unable to build/replace github badge: "+b);$(a).remove()}))},url_info:function(a){var d,c,b,f,g={},e=document.createElement("a");c={url:window.location.href,unescape:!0,convert_num:!0};if("object"!==typeof a)a=c;else for(d in c)c.hasOwnProperty(d)&&void 0===a[d]&&(a[d]=c[d]);e.href=a.url;
d=e.search.substring(1).split("&");if(1<d[0].length)for(c=0;c<d.length;c+=1)b=d[c].split("="),a.unescape?(f=decodeURI(b[0]),b=decodeURI(b[1])):(f=b[0],b=b[1]),a.convert_num&&(b.match(/^\d+$/)?b=parseInt(b,10):b.match(/^\d+\.\d+$/)&&(b=parseFloat(b))),void 0===g[f]?g[f]=b:"string"===typeof g[f]?g[f]=[g[f],b]:g[f].push(b);return{protocol:e.protocol,hostname:e.hostname,host:e.host,port:e.port,hash:e.hash.substr(1),pathname:e.pathname,search:e.search,parameters:g}}};
