(function(h){function v(a){this._$stripes;this._arr;this._total;this._intervalId=null;this._rotator=a;this._areaWidth=a._screenWidth;this._areaHeight=a._screenHeight;this._size=a._vertSize;this._delay=a._vertDelay;this.init()}function w(a){this._$stripes;this._arr;this._total;this._intervalId=null;this._rotator=a;this._areaWidth=a._screenWidth;this._areaHeight=a._screenHeight;this._size=a._horzSize;this._delay=a._horzDelay;this.init()}function q(a){this._$blockArr;this._$blocks;this._arr;this._numRows;
this._numCols;this._total;this._intervalId;this._rotator=a;this._areaWidth=a._screenWidth;this._areaHeight=a._screenHeight;this._size=a._blockSize;this._delay=a._blockDelay;this.init()}function d(a,b){this._screenWidth=r(b.width,825);this._screenHeight=r(b.height,300);var c;c=b.button_margin;c=!isNaN(c)&&0<=c?c:4;this._margin=c;this._globalEffect=b.transition.toLowerCase();this._duration=r(b.transition_speed,800);this._globalDelay=r(b.delay,5E3);this._rotate=b.auto_start;this._cpPos=b.cpanel_position.toLowerCase();
this._cpAlign=b.cpanel_align.toUpperCase();this._thumbWidth=r(b.thumb_width,24);this._thumbHeight=r(b.thumb_height,24);this._buttonWidth=r(b.button_width,24);this._buttonHeight=r(b.button_height,24);this._displayThumbImg=b.display_thumbimg;this._displayThumbs=b.display_thumbs;this._displaySideBtns=b.display_side_buttons;this._displayDBtns=b.display_dbuttons;this._displayPlayBtn=b.display_playbutton;this._displayNumbers=b.display_numbers;this._displayTimer=b.display_timer;this._cpMouseover=window.Touch?
!1:b.cpanel_mouseover;this._textMousover=window.Touch?!1:b.text_mouseover;this._pauseMouseover=window.Touch?!1:b.mouseover_pause;this._mouseoverSelect=window.Touch?!1:b.mouseover_select;this._tipType=b.tooltip_type.toLowerCase();this._textEffect=b.text_effect.toLowerCase();this._textSync=b.text_sync;this._playOnce=b.play_once;this._autoCenter=b.auto_center;this._easing=b.easing;this._timerAlign=b.timer_align.toLowerCase();this._shuffle=b.shuffle;this._mousewheelScroll=b.mousewheel_scroll;this._vertSize=
r(b.vert_size,50);this._horzSize=r(b.horz_size,50);this._blockSize=r(b.block_size,75);this._vertDelay=r(b.vstripe_delay,75);this._horzDelay=r(b.hstripe_delay,75);this._blockDelay=r(b.block_delay,25);this._numItems;this._currIndex;this._prevIndex;this._delay;this._vStripes;this._hStripes;this._blocks;this._timerId;this._blockEffect;this._hStripeEffect;this._vStripeEffect;this._dir;this._cpVertical;this._slideCoord;this._$rotator;this._$screen;this._$strip;this._$mainLink;this._$textBox;this._$preloader;
this._$cpWrapper;this._$cpanel;this._$thumbPanel;this._$list;this._$thumbs;this._$buttonPanel;this._$playBtn;this._$sPrev;this._$sNext;this._$timer;this._$tooltip;this._$items;this._$innerText;this._$obj=a;this.init()}function x(){return!1}function r(a,b){return!isNaN(a)&&0<a?a:b}function z(a){return/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&new Number(RegExp.$1)<=a?!0:!1}function A(a){for(var b=a.length,c=0;c<b;c++){var l=Math.floor(Math.random()*b),t=a[c];a[c]=a[l];a[l]=t}}var f={TL:0,TC:1,TR:2,
BL:3,BC:4,BR:5,LT:6,LC:7,LB:8,RT:9,RC:10,RB:11},e=0,g={"block.top":e++,"block.right":e++,"block.bottom":e++,"block.left":e++,"block.drop":e++,"diag.fade":e++,"diag.exp":e++,"rev.diag.fade":e++,"rev.diag.exp":e++,"block.fade":e++,"block.exp":e++,"block.top.zz":e++,"block.bottom.zz":e++,"block.left.zz":e++,"block.right.zz":e++,"spiral.in":e++,"spiral.out":e++,"vert.tl":e++,"vert.tr":e++,"vert.bl":e++,"vert.br":e++,"fade.left":e++,"fade.right":e++,"alt.left":e++,"alt.right":e++,"blinds.left":e++,"blinds.right":e++,
"vert.random.fade":e++,"horz.tl":e++,"horz.tr":e++,"horz.bl":e++,"horz.br":e++,"fade.top":e++,"fade.bottom":e++,"alt.top":e++,"alt.bottom":e++,"blinds.top":e++,"blinds.bottom":e++,"horz.random.fade":e++,none:e++,fade:e++,"h.slide":e++,"v.slide":e++,random:e++},m={fade:0,down:1,right:2,up:3,left:4,none:5},B=/MSIE (\d+\.\d+);/.test(navigator.userAgent),y=z(7);v.prototype.init=function(){this._total=Math.ceil(this._areaWidth/this._size);250<this._total&&(this._size=Math.ceil(this._areaWidth/250),this._total=
Math.ceil(this._areaWidth/this._size));for(var a="",b=0;b<this._total;b++)a+="<div class='vpiece' id='"+b+"' style='left:"+b*this._size+"px; height:"+this._areaHeight+"px'></div>";this._rotator.addToScreen(a);this._$stripes=this._rotator._$obj.find("div.vpiece");this._arr=this._$stripes.toArray()};v.prototype.clear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$stripes.stop(!0).css({"z-index":2,opacity:0})};v.prototype.displayContent=function(a,b){this.setPieces(a,b);b==g["vert.random.fade"]?
this.animateRandom(a):this.animate(a,b)};v.prototype.setPieces=function(a,b){switch(b){case g["vert.tl"]:case g["vert.tr"]:this.setVertPieces(a,-this._areaHeight,1,this._size,!1);break;case g["vert.bl"]:case g["vert.br"]:this.setVertPieces(a,this._areaHeight,1,this._size,!1);break;case g["alt.left"]:case g["alt.right"]:this.setVertPieces(a,0,1,this._size,!0);break;case g["blinds.left"]:case g["blinds.right"]:this.setVertPieces(a,0,1,0,!1);break;default:this.setVertPieces(a,0,0,this._size,!1)}};v.prototype.setVertPieces=
function(a,b,c,l,t){var g=a.attr("src"),d=0,f=0;this._rotator._autoCenter&&(d=(this._areaHeight-a.height())/2,f=(this._areaWidth-a.width())/2);for(a=0;a<this._total;a++){var h=this._$stripes.eq(a),e=-a*this._size+f;t&&(b=0==a%2?-this._areaHeight:this._areaHeight);h.css({background:"url('"+g+"') no-repeat",backgroundPosition:e+"px "+d+"px",opacity:c,top:b,width:l,"z-index":3})}};v.prototype.animate=function(a,b){var c=this,l,t,d;switch(b){case g["vert.tl"]:case g["vert.bl"]:case g["fade.left"]:case g["blinds.left"]:case g["alt.left"]:l=
0;t=this._total-1;d=1;break;default:l=this._total-1,t=0,d=-1}this._intervalId=setInterval(function(){c._$stripes.eq(l).animate({top:0,opacity:1,width:c._size},c._rotator._duration,c._rotator._easing,function(){h(this).attr("id")==t&&c._rotator.showContent(a)});l==t&&(clearInterval(c._intervalId),c._intervalId=null);l+=d},this._delay)};v.prototype.animateRandom=function(a){var b=this;A(this._arr);var c=0,l=0;this._intervalId=setInterval(function(){h(b._arr[c++]).animate({opacity:1},b._rotator._duration,
b._rotator._easing,function(){++l==b._total&&b._rotator.showContent(a)});c==b._total&&(clearInterval(b._intervalId),b._intervalId=null)},this._delay)};w.prototype.init=function(){this._total=Math.ceil(this._areaHeight/this._size);250<this._total&&(this._size=Math.ceil(this._areaHeight/250),this._total=Math.ceil(this._areaHeight/this._size));for(var a="",b=0;b<this._total;b++)a+="<div class='hpiece' id='"+b+"' style='top:"+b*this._size+"px; width:"+this._areaWidth+"px'>\x3c!-- --\x3e</div>";this._rotator.addToScreen(a);
this._$stripes=this._rotator._$obj.find("div.hpiece");this._arr=this._$stripes.toArray()};w.prototype.clear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$stripes.stop(!0).css({"z-index":2,opacity:0})};w.prototype.displayContent=function(a,b){this.setPieces(a,b);b==g["horz.random.fade"]?this.animateRandom(a):this.animate(a,b)};w.prototype.setPieces=function(a,b){switch(b){case g["horz.tr"]:case g["horz.br"]:this.setHorzPieces(a,this._areaWidth,1,this._size,!1);break;case g["horz.tl"]:case g["horz.bl"]:this.setHorzPieces(a,
-this._areaWidth,1,this._size,!1);break;case g["alt.top"]:case g["alt.bottom"]:this.setHorzPieces(a,0,1,this._size,!0);break;case g["blinds.top"]:case g["blinds.bottom"]:this.setHorzPieces(a,0,1,0,!1);break;default:this.setHorzPieces(a,0,0,this._size,!1)}};w.prototype.setHorzPieces=function(a,b,c,l,t){var d=a.attr("src"),g=0,f=0;this._rotator._autoCenter&&(g=(this._areaHeight-a.height())/2,f=(this._areaWidth-a.width())/2);for(a=0;a<this._total;a++){var h=this._$stripes.eq(a),e=-a*this._size+g;t&&
(b=0==a%2?-this._areaWidth:this._areaWidth);h.css({background:"url('"+d+"') no-repeat",backgroundPosition:f+"px "+e+"px",opacity:c,left:b,height:l,"z-index":3})}};w.prototype.animate=function(a,b){var c=this,l,t,d;switch(b){case g["horz.tl"]:case g["horz.tr"]:case g["fade.top"]:case g["blinds.top"]:case g["alt.top"]:l=0;t=this._total-1;d=1;break;default:l=this._total-1,t=0,d=-1}this._intervalId=setInterval(function(){c._$stripes.eq(l).animate({left:0,opacity:1,height:c._size},c._rotator._duration,
c._rotator._easing,function(){h(this).attr("id")==t&&c._rotator.showContent(a)});l==t&&(clearInterval(c._intervalId),c._intervalId=null);l+=d},this._delay)};w.prototype.animateRandom=function(a){var b=this;A(this._arr);var c=0,l=0;this._intervalId=setInterval(function(){h(b._arr[c++]).animate({opacity:1},b._rotator._duration,b._rotator._easing,function(){++l==b._total&&b._rotator.showContent(a)});c==b._total&&(clearInterval(b._intervalId),b._intervalId=null)},this._delay)};q.prototype.init=function(){this._numRows=
Math.ceil(this._areaHeight/this._size);this._numCols=Math.ceil(this._areaWidth/this._size);this._total=this._numRows*this._numCols;250<this._total&&(this._size=Math.ceil(Math.sqrt(this._areaHeight*this._areaWidth/250)),this._numRows=Math.ceil(this._areaHeight/this._size),this._numCols=Math.ceil(this._areaWidth/this._size),this._total=this._numRows*this._numCols);for(var a="",b=0;b<this._numRows;b++)for(var c=0;c<this._numCols;c++)a+="<div class='block' id='"+b+"-"+c+"'></div>";this._rotator.addToScreen(a);
this._$blocks=this._rotator._$obj.find("div.block");this._$blocks.data({tlId:"0-0",trId:"0-"+(this._numCols-1),blId:this._numRows-1+"-0",brId:this._numRows-1+"-"+(this._numCols-1)});this._arr=this._$blocks.toArray();this._$blockArr=Array(this._numRows);for(b=0;b<this._numRows;b++)for(this._$blockArr[b]=Array(this._numCols),c=0;c<this._numCols;c++)this._$blockArr[b][c]=this._$blocks.filter("#"+(b+"-"+c)).data("top",b*this._size)};q.prototype.clear=function(){clearInterval(this._intervalId);this._intervalId=
null;this._$blocks.stop(!0).css({"z-index":2,opacity:0})};q.prototype.displayContent=function(a,b){switch(b){case g["diag.fade"]:this.setBlocks(a,0,this._size,0);this.diagAnimate(a,{opacity:1},!1);break;case g["diag.exp"]:this.setBlocks(a,0,0,0);this.diagAnimate(a,{opacity:1,width:this._size,height:this._size},!1);break;case g["rev.diag.fade"]:this.setBlocks(a,0,this._size,0);this.diagAnimate(a,{opacity:1},!0);break;case g["rev.diag.exp"]:this.setBlocks(a,0,0,0);this.diagAnimate(a,{opacity:1,width:this._size,
height:this._size},!0);break;case g["block.fade"]:this.setBlocks(a,0,this._size,0);this.randomAnimate(a);break;case g["block.exp"]:this.setBlocks(a,1,0,0);this.randomAnimate(a);break;case g["block.drop"]:this.setBlocks(a,1,this._size,-(this._numRows*this._size));this.randomAnimate(a);break;case g["block.top.zz"]:case g["block.bottom.zz"]:case g["block.left.zz"]:case g["block.right.zz"]:this.setBlocks(a,0,this._size,0);this.zigZag(a,b);break;case g["spiral.in"]:this.setBlocks(a,0,this._size,0);this.spiral(a,
!1);break;case g["spiral.out"]:this.setBlocks(a,0,this._size,0);this.spiral(a,!0);break;default:this.setBlocks(a,1,0,0),this.dirAnimate(a,b)}};q.prototype.setBlocks=function(a,b,c,l){var t=0,d=0;this._rotator._autoCenter&&(t=(this._areaHeight-a.height())/2,d=(this._areaWidth-a.width())/2);a=a.attr("src");for(var g=0;g<this._numRows;g++)for(var f=0;f<this._numCols;f++)this._$blockArr[g][f].css({background:"url('"+a+"') no-repeat",backgroundPosition:-f*this._size+d+"px "+(-g*this._size+t)+"px",opacity:b,
top:g*this._size+l,left:f*this._size,width:c,height:c,"z-index":3})};q.prototype.diagAnimate=function(a,b,c){var l=Array(this._total),d,g,f;d=this._numRows-1+(this._numCols-1);c?(c=d,g=d=-1,f=this._$blocks.data("tlId")):(c=0,d+=1,g=1,f=this._$blocks.data("brId"));for(var e=0;c!=d;){for(i=Math.min(this._numRows-1,c);0<=i;){j=Math.abs(i-c);if(j>=this._numCols)break;l[e++]=this._$blockArr[i][j];i--}c+=g}var e=0,n=this;this._intervalId=setInterval(function(){l[e++].animate(b,n._rotator._duration,n._rotator._easing,
function(){h(this).attr("id")==f&&n._rotator.showContent(a)});e==n._total&&(clearInterval(n._intervalId),n._intervalId=null)},this._delay)};q.prototype.zigZag=function(a,b){var c=this,l=!0,d=0,f=0,e,k,n;b==g["block.left.zz"]?(k=0==this._numCols%2?this._$blocks.data("trId"):this._$blocks.data("brId"),f=0,e=1,n=!1):b==g["block.right.zz"]?(k=0==this._numCols%2?this._$blocks.data("tlId"):this._$blocks.data("blId"),f=this._numCols-1,e=-1,n=!1):(b==g["block.top.zz"]?(k=0==this._numRows%2?this._$blocks.data("blId"):
this._$blocks.data("brId"),d=0,e=1):(k=0==this._numRows%2?this._$blocks.data("tlId"):this._$blocks.data("trId"),d=this._numRows-1,e=-1),n=!0);this._intervalId=setInterval(function(){c._$blockArr[d][f].animate({opacity:1},c._duration,c._rotator._easing,function(){h(this).attr("id")==k&&c._rotator.showContent(a)});c._$blockArr[d][f].attr("id")==k&&(clearInterval(c._intervalId),c._intervalId=null);if(n){if(l?f++:f--,f==c._numCols||0>f)f=(l=!l)?0:c._numCols-1,d+=e}else if(l?d++:d--,d==c._numRows||0>d)d=
(l=!l)?0:c._numRows-1,f+=e},this._delay)};q.prototype.dirAnimate=function(a,b){var c=Array(this._total),d,f=0;switch(b){case g["block.left"]:d=this._$blocks.data("brId");for(var e=0;e<this._numCols;e++)for(var p=0;p<this._numRows;p++)c[f++]=this._$blockArr[p][e];break;case g["block.right"]:d=this._$blocks.data("blId");for(e=this._numCols-1;0<=e;e--)for(p=0;p<this._numRows;p++)c[f++]=this._$blockArr[p][e];break;case g["block.top"]:d=this._$blocks.data("brId");for(p=0;p<this._numRows;p++)for(e=0;e<
this._numCols;e++)c[f++]=this._$blockArr[p][e];break;default:for(d=this._$blocks.data("trId"),p=this._numRows-1;0<=p;p--)for(e=0;e<this._numCols;e++)c[f++]=this._$blockArr[p][e]}var f=0,k=this;this._intervalId=setInterval(function(){c[f++].animate({width:k._size,height:k._size},k._rotator._duration,k._rotator._easing,function(){h(this).attr("id")==d&&k._rotator.showContent(a)});f==k._total&&(clearInterval(k._intervalId),k._intervalId=null)},this._delay)};q.prototype.randomAnimate=function(a){A(this._arr);
var b=0;count=0;var c=this;this._intervalId=setInterval(function(){h(c._arr[b]).animate({top:h(c._arr[b]).data("top"),width:c._size,height:c._size,opacity:1},c._rotator._duration,c._rotator._easing,function(){++count==c._total&&c._rotator.showContent(a)});b++;b==c._total&&(clearInterval(c._intervalId),c._intervalId=null)},this._delay)};q.prototype.spiral=function(a,b){for(var c=0,d=0,f=this._numRows-1,g=this._numCols-1,e=0,k=g,n=[];0<=f&&0<=g;){for(var r=0;;){n[n.length]=this._$blockArr[c][d];if(++r>
k)break;switch(e){case 0:d++;break;case 1:c++;break;case 2:d--;break;case 3:c--}}switch(e){case 0:e=1;k=--f;c++;break;case 1:e=2;k=--g;d--;break;case 2:e=3;k=--f;c--;break;case 3:e=0,k=--g,d++}}if(0<n.length){b&&n.reverse();var u=n.length-1,C=n[u].attr("id"),m=0,q=this;this._intervalId=setInterval(function(){n[m].animate({opacity:1},q._rotator._duration,q._rotator._easing,function(){h(this).attr("id")==C&&q._rotator.showContent(a)});m==u&&(clearInterval(q._intervalId),q._intervalId=null);m++},this._delay)}};
d.prototype.init=function(){this._$rotator=this._$obj.find(".wt-rotator");this._$screen=this._$rotator.find("div.screen");this._$cpanel=this._$rotator.find("div.c-panel");this._$buttonPanel=this._$cpanel.find("div.buttons");this._$thumbPanel=this._$cpanel.find("div.thumbnails");this._$list=this._$thumbPanel.find(">ul");this._$thumbs=this._$list.find(">li");this._timerId=null;this._currIndex=0;this._prevIndex=-1;this._numItems=this._$thumbs.size();this._$items=Array(this._numItems);this._blockEffect=
this._hStripeEffect=this._vStripeEffect=!1;this.checkEffect(g[this._globalEffect]);this._cpVertical=f[this._cpAlign]>=f.LT?!0:!1;1>=this._numItems&&(this._rotate=this._displaySideBtns=this._displayDBtns=this._displayPlayBtn=this._displayTimer=this._mousewheelScroll=this._pauseMouseover=!1);this._displaySideBtns&&(this._displayDBtns=!1);this._displayThumbImg&&(this._displayNumbers=!1,"image"==this._tipType&&(this._tipType="none"));this._shuffle&&this.shuffleItems();this._$rotator.css({width:this._screenWidth,
height:this._screenHeight});this.initScreen();this.initButtons();this.initItems();this.initCPanel();this.initTimerBar();this._textMousover?this._$rotator.bind("mouseenter",{elem:this},this.displayText).bind("mouseleave",{elem:this},this.hideText):this._$rotator.bind("updatetext",{elem:this},this.updateText);this._vStripeEffect&&(this._vStripes=new v(this));this._hStripeEffect&&(this._hStripes=new w(this));this._blockEffect&&(this._blocks=new q(this));window.Touch?(this._slideCoord={start:-1,end:-1},
"v.slide"==this._globalEffect?this._$rotator.bind("touchstart",{elem:this},this.touchVStart).bind("touchmove",{elem:this},this.touchVMove):this._$rotator.bind("touchstart",{elem:this},this.touchStart).bind("touchmove",{elem:this},this.touchMove),this._$rotator.bind("touchend",{elem:this},this.touchEnd)):this._mousewheelScroll&&this._$rotator.bind("mousewheel",{elem:this},this.mouseScrollContent).bind("DOMMouseScroll",{elem:this},this.mouseScrollContent);z(6)||this.loadImg(0);this.loadContent(this._currIndex)};
d.prototype.touchStart=function(a){a.data.elem._slideCoord.start=a.originalEvent.touches[0].pageX};d.prototype.touchMove=function(a){a.preventDefault();a.data.elem._slideCoord.end=a.originalEvent.touches[0].pageX};d.prototype.touchVStart=function(a){a.data.elem._slideCoord.start=a.originalEvent.touches[0].pageY};d.prototype.touchVMove=function(a){a.preventDefault();a.data.elem._slideCoord.end=a.originalEvent.touches[0].pageY};d.prototype.touchEnd=function(a){a=a.data.elem;0<=a._slideCoord.end&&50<
Math.abs(a._slideCoord.start-a._slideCoord.end)&&(a._slideCoord.end<a._slideCoord.start?a.nextImg():a.prevImg());a._slideCoord.start=a._slideCoord.end=-1};d.prototype.addToScreen=function(a){this._$mainLink.append(a)};d.prototype.initScreen=function(){this._$screen.append("<div class='desc'><div class='inner-bg'></div><div class='inner-text'></div></div>\r\n\t\t\t\t\t\t<div class='preloader'></div>\r\n\t\t\t\t\t\t<div class='timer'></div>");this._$textBox=this._$screen.find("div.desc");this._$preloader=
this._$screen.find("div.preloader");this._$screen.css({width:this._screenWidth,height:this._screenHeight});this._$innerText=this._$textBox.find("div.inner-text");this._$strip=h("<div class='strip'></div>");"h.slide"==this._globalEffect?(this._$screen.append(this._$strip),this._$strip.css({width:2*this._screenWidth,height:this._screenHeight}),this._$thumbs.removeAttr("effect")):"v.slide"==this._globalEffect?(this._$screen.append(this._$strip),this._$strip.css({width:this._screenWidth,height:2*this._screenHeight}),
this._$thumbs.removeAttr("effect")):(this._$screen.append("<a href='#'></a>"),this._$mainLink=this._$screen.find(">a:first"))};d.prototype.initCPanel=function(){if(this._displayThumbs||this._displayDBtns||this._displayPlayBtn){if("inside"==this._cpPos){switch(f[this._cpAlign]){case f.BL:this.setHPanel("left");this.setInsideHP("bottom");break;case f.BC:this.setHPanel("center");this.setInsideHP("bottom");break;case f.BR:this.setHPanel("right");this.setInsideHP("bottom");break;case f.TL:this.setHPanel("left");
this.setInsideHP("top");break;case f.TC:this.setHPanel("center");this.setInsideHP("top");break;case f.TR:this.setHPanel("right");this.setInsideHP("top");break;case f.LT:this.setVPanel("top");this.setInsideVP("left");break;case f.LC:this.setVPanel("center");this.setInsideVP("left");break;case f.LB:this.setVPanel("bottom");this.setInsideVP("left");break;case f.RT:this.setVPanel("top");this.setInsideVP("right");break;case f.RC:this.setVPanel("center");this.setInsideVP("right");break;case f.RB:this.setVPanel("bottom"),
this.setInsideVP("right")}if(this._cpMouseover){var a=this._cpVertical?"left":"top";this._$rotator.bind("mouseenter",{elem:this,dir:a},this.displayCPanel).bind("mouseleave",{elem:this,dir:a},this.hideCPanel)}}else switch(f[this._cpAlign]){case f.BL:this.setHPanel("left");this.setOutsideHP(!1);break;case f.BC:this.setHPanel("center");this.setOutsideHP(!1);break;case f.BR:this.setHPanel("right");this.setOutsideHP(!1);break;case f.TL:this.setHPanel("left");this.setOutsideHP(!0);break;case f.TC:this.setHPanel("center");
this.setOutsideHP(!0);break;case f.TR:this.setHPanel("right");this.setOutsideHP(!0);break;case f.LT:this.setVPanel("top");this.setOutsideVP(!0);break;case f.LC:this.setVPanel("center");this.setOutsideVP(!0);break;case f.LB:this.setVPanel("bottom");this.setOutsideVP(!0);break;case f.RT:this.setVPanel("top");this.setOutsideVP(!1);break;case f.RC:this.setVPanel("center");this.setOutsideVP(!1);break;case f.RB:this.setVPanel("bottom"),this.setOutsideVP(!1)}this._$cpanel.css("visibility","visible").click(x)}};
d.prototype.setHPanel=function(a){this._$cpanel.css({"margin-top":this._margin,"margin-bottom":this._margin,height:Math.max(this._$thumbPanel.outerHeight(!0),this._$buttonPanel.outerHeight(!0))});a="center"==a?Math.round((this._screenWidth-this._$cpanel.width()-this._margin)/2):"left"==a?this._margin:this._screenWidth-this._$cpanel.width();this._$cpanel.css("left",a)};d.prototype.setVPanel=function(a){this._$cpanel.css({"margin-left":this._margin,"margin-right":this._margin,width:Math.max(this._$thumbPanel.outerWidth(!0),
this._$buttonPanel.outerWidth(!0))});a="center"==a?Math.round((this._screenHeight-this._$cpanel.height()-this._margin)/2):"top"==a?this._margin:this._screenHeight-this._$cpanel.height();this._$cpanel.css("top",a)};d.prototype.setInsideHP=function(a){var b;"top"==a?(b=0,a=-this._$cpanel.outerHeight(!0)):(b=this._screenHeight-this._$cpanel.outerHeight(!0),a=this._screenHeight);this._$cpanel.data({offset:a,pos:b}).css({top:this._cpMouseover?a:b})};d.prototype.setInsideVP=function(a){var b;"left"==a?
(b=0,a=-this._$cpanel.outerWidth(!0)):(b=this._screenWidth-this._$cpanel.outerWidth(!0),a=this._screenWidth);this._$cpanel.data({offset:a,pos:b}).css({left:this._cpMouseover?a:b})};d.prototype.setOutsideHP=function(a){this._$cpanel.wrap("<div class='outer-hp'></div>");this._$cpWrapper=this._$rotator.find(".outer-hp");this._$cpWrapper.height(this._$cpanel.outerHeight(!0));a?(this._$cpWrapper.css({"border-top":"none",top:0}),this._$screen.css("top",this._$cpWrapper.outerHeight())):(this._$cpWrapper.css({"border-bottom":"none",
top:this._screenHeight}),this._$screen.css("top",0));this._$rotator.css({height:this._screenHeight+this._$cpWrapper.outerHeight()})};d.prototype.setOutsideVP=function(a){this._$cpanel.wrap("<div class='outer-vp'></div>");this._$cpWrapper=this._$rotator.find(".outer-vp");this._$cpWrapper.width(this._$cpanel.outerWidth(!0));a?(this._$cpWrapper.css({"border-left":"none",left:0}),this._$screen.css("left",this._$cpWrapper.outerWidth())):(this._$cpWrapper.css({"border-right":"none",left:this._screenWidth}),
this._$screen.css("left",0));this._$rotator.css({width:this._screenWidth+this._$cpWrapper.outerWidth()})};d.prototype.initButtons=function(){this._$playBtn=this._$buttonPanel.find("div.play-btn");var a=this._$buttonPanel.find("div.prev-btn"),b=this._$buttonPanel.find("div.next-btn");this._displayDBtns?(a.bind("click",{elem:this},this.prevImg),b.bind("click",{elem:this},this.nextImg)):(a.hide(),b.hide());this._displayPlayBtn?this._$playBtn.toggleClass("pause",this._rotate).bind("click",{elem:this},
this.togglePlay):this._$playBtn.hide();this._pauseMouseover&&this._$rotator.bind("mouseenter",{elem:this},this.pause).bind("mouseleave",{elem:this},this.play);this._displaySideBtns&&(this._$screen.append("<div class='s-prev'></div><div class='s-next'></div>"),this._$sPrev=this._$screen.find(".s-prev"),this._$sNext=this._$screen.find(".s-next"),this._$sPrev.bind("click",{elem:this},this.prevImg).mousedown(x),this._$sNext.bind("click",{elem:this},this.nextImg).mousedown(x),this._cpMouseover&&(this._$sPrev.css("left",
-this._$sPrev.width()),this._$sNext.css("margin-left",0),this._$rotator.bind("mouseenter",{elem:this},this.showSideButtons).bind("mouseleave",{elem:this},this.hideSideButtons)));var c=this._$buttonPanel.find(">div").css({width:this._buttonWidth,height:this._buttonHeight}).mousedown(x);if(this._cpVertical){if(a.addClass("up"),b.addClass("down"),c.css("margin-bottom",this._margin),this._$buttonPanel.width(c.outerWidth()),y&&this._$buttonPanel.height(this._$buttonPanel.find(">div:visible").size()*c.outerHeight(!0)),
this._displayThumbs&&this._thumbWidth>this._buttonWidth)switch(a=this._thumbWidth-this._buttonWidth,f[this._cpAlign]){case f.RT:case f.RC:case f.RB:this._$buttonPanel.css("margin-left",a);break;default:this._$buttonPanel.css("margin-right",a)}}else if(c.css("margin-right",this._margin),this._$buttonPanel.height(c.outerHeight()),y&&this._$buttonPanel.width(this._$buttonPanel.find(">div:visible").size()*c.outerWidth(!0)),this._displayThumbs&&this._thumbHeight>this._buttonHeight)switch(a=this._thumbHeight-
this._buttonHeight,f[this._cpAlign]){case f.TL:case f.TC:case f.TR:this._$buttonPanel.css("margin-bottom",a);break;default:this._$buttonPanel.css("margin-top",a)}};d.prototype.initTimerBar=function(){this._$timer=this._$screen.find(".timer").data("pct",1);this._displayTimer?(this._$timer.css("visibility","visible"),this._$timer.css("top","top"==this._timerAlign?2:this._screenHeight-this._$timer.height())):this._$timer.hide()};d.prototype.initItems=function(){for(var a=this,b=this._$innerText.outerHeight()-
this._$innerText.height(),c=this._$thumbs.size(),d=0;d<c;d++){var e=this._$thumbs.eq(d),q=e.find(">a:first"),p=g[e.attr("effect")];"undefined"==typeof p||p==g["h.slide"]||p==g["v.slide"]?p=g[this._globalEffect]:this.checkEffect(p);e.data({imgurl:q.attr("href"),caption:q.attr("title"),effect:p,delay:r(e.attr("delay"),this._globalDelay)});this.initTextData(e,b);this._$items[d]=e;this._displayNumbers&&e.append(d+1)}this._$innerText.css({width:"auto",height:"auto"}).html("");this._$textBox.css("visibility",
"visible");if(this._displayThumbs){if(this._displayThumbImg)for(this._$thumbs.addClass("image"),this._$thumbs.find(">a").removeAttr("title"),b=this._$thumbs.find(">a>img"),b.removeAttr("alt"),c=b.size(),d=0;d<c;d++)e=b.eq(d),e[0].complete||"complete"==e[0].readyState?e.css({top:(this._thumbHeight-e.height())/2,left:(this._thumbWidth-e.width())/2}):e.load(function(){h(this).css({top:(a._thumbHeight-h(this).height())/2,left:(a._thumbWidth-h(this).width())/2})});this._$thumbs.css({width:this._thumbWidth,
height:this._thumbHeight,"line-height":this._thumbHeight+"px"}).mousedown(x);this._mouseoverSelect?this._$thumbs.bind("mouseover",{elem:this},this.selectItem):this._$thumbPanel.bind("click",{elem:this},this.selectItem);if(this._cpVertical){this._$thumbs.css("margin-bottom",this._margin);this._$list.width(this._$thumbs.outerWidth());this._$thumbPanel.width(this._$list.width());y&&this._$thumbPanel.height(this._numItems*this._$thumbs.outerHeight(!0));if((this._displayDBtns||this._displayPlayBtn)&&this._buttonWidth>
this._thumbWidth)switch(d=this._buttonWidth-this._thumbWidth,f[this._cpAlign]){case f.RT:case f.RC:case f.RB:this._$thumbPanel.css("margin-left",d);break;default:this._$thumbPanel.css("margin-right",d)}d=this._screenHeight-(this._$buttonPanel.height()+this._margin);if(this._$thumbPanel.height()>d){var k=this._$thumbs.outerHeight(!0);this._$list.addClass("inside").height(this._numItems*k);this._$thumbPanel.css({height:Math.floor(d/k)*k-this._margin,"margin-bottom":this._margin});var n=this._$thumbPanel.height()-
(this._$list.height()-this._margin);this._$thumbPanel.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>");var m=this._$thumbPanel.find(".back-scroll"),u=this._$thumbPanel.find(".fwd-scroll");m.css({height:k,width:"100%"});u.css({height:k,width:"100%",top:"100%","margin-top":-k});window.Touch?(m.hide(),u.hide()):(m.bind("mouseenter",function(){u.show();var b=4*-a._$list.stop(!0).position().top;a._$list.stop(!0).animate({top:0},b,"linear",function(){m.hide()})}).bind("mouseleave",
{elem:this},this.stopList),u.bind("mouseenter",function(){m.show();var b=4*(-n+a._$list.stop(!0).position().top);a._$list.stop(!0).animate({top:n},b,"linear",function(){u.hide()})}).bind("mouseleave",{elem:this},this.stopList));this._$rotator.bind("updatelist",function(){if(!a._$list.is(":animated")){var b=a._$list.position().top+a._currIndex*k;if(0>b||b>a._$thumbPanel.height()-a._$thumbs.outerHeight())b=-a._currIndex*k,b<n&&(b=n),a._$list.stop(!0).animate({top:b},500,function(){window.Touch||(0==
h(this).position().top?m.hide():m.show(),h(this).position().top==n?u.hide():u.show())})}})}}else{this._$thumbs.css("margin-right",this._margin);this._$list.height(this._$thumbs.outerHeight());this._$thumbPanel.height(this._$list.height());y&&this._$thumbPanel.width(this._numItems*this._$thumbs.outerWidth(!0));if((this._displayDBtns||this._displayPlayBtn)&&this._buttonHeight>this._thumbHeight)switch(d=this._buttonHeight-this._thumbHeight,f[this._cpAlign]){case f.TL:case f.TC:case f.TR:this._$thumbPanel.css("margin-bottom",
d);break;default:this._$thumbPanel.css("margin-top",d)}d=this._screenWidth-(this._$buttonPanel.width()+this._margin);this._$thumbPanel.width()>d&&(k=this._$thumbs.outerWidth(!0),this._$list.addClass("inside").width(this._numItems*k),this._$thumbPanel.css({width:Math.floor(d/k)*k-this._margin,"margin-right":this._margin}),n=this._$thumbPanel.width()-(this._$list.width()-this._margin),this._$thumbPanel.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>"),m=this._$thumbPanel.find(".back-scroll"),
u=this._$thumbPanel.find(".fwd-scroll"),m.css({width:k,height:"100%"}),u.css({width:k,height:"100%",left:"100%","margin-left":-k}),window.Touch||(m.bind("mouseenter",function(){u.show();var b=4*-a._$list.stop(!0).position().left;a._$list.stop(!0).animate({left:0},b,"linear",function(){m.hide()})}).bind("mouseleave",{elem:this},this.stopList),u.bind("mouseenter",function(){m.show();var b=4*(-n+a._$list.stop(!0).position().left);a._$list.stop(!0).animate({left:n},b,"linear",function(){u.hide()})}).bind("mouseleave",
{elem:this},this.stopList)),this._$rotator.bind("updatelist",function(){if(!a._$list.is(":animated")){var b=a._$list.position().left+a._currIndex*k;if(0>b||b>a._$thumbPanel.width()-a._$thumbs.outerWidth())b=-a._currIndex*k,b<n&&(b=n),a._$list.stop(!0).animate({left:b},500,function(){0==h(this).position().left?m.hide():m.show();h(this).position().left==n?u.hide():u.show()})}}))}this.initTooltip()}else this._$thumbs.hide()};d.prototype.initTextData=function(a,b){var c=a.find(">div:hidden"),d=r(parseInt(c.css("width"))-
b,300),e=r(parseInt(c.css("height"))-b,0);this._$innerText.width(d).html(c.html());e<this._$innerText.height()&&(e=this._$innerText.height());a.data("textbox",{x:c.css("left"),y:c.css("top"),w:d+b,h:e+b+1,color:c.css("color"),bgcolor:c.css("background-color")})};d.prototype.initTooltip=function(){if("text"==this._tipType)switch(h("body").append("<div id='rotator-tooltip'><div class='tt-txt'></div></div>"),this._$tooltip=h("body").find("#rotator-tooltip"),this._$thumbs.bind("mouseover",{elem:this},
this.showTooltip).bind("mouseout",{elem:this},this.hideTooltip).bind("mousemove",{elem:this},this.moveTooltip),f[this._cpAlign]){case f.TL:case f.TC:case f.TR:this._$tooltip.data("bottom",!0).addClass("txt-down");break;default:this._$tooltip.data("bottom",!1).addClass("txt-up")}else if("image"==this._tipType){for(var a="<div id='rotator-tooltip'>",b=0;b<this._numItems;b++)var c=this._$items[b].find(">a:first>img"),a=1==c.size()?a+("<img src='"+c.attr("src")+"' />"):a+"<img/>";a+="</div>";h("body").append(a);
this._$tooltip=h("body").find("#rotator-tooltip");switch(f[this._cpAlign]){case f.TL:case f.TC:case f.TR:this._$thumbs.bind("mouseover",{elem:this},this.showHImgTooltip);this._$tooltip.data("bottom",!0).addClass("img-down");break;case f.LT:case f.LC:case f.LB:this._$thumbs.bind("mouseover",{elem:this},this.showVImgTooltip);this._$tooltip.data("right",!0).addClass("img-right");break;case f.RT:case f.RC:case f.RB:this._$thumbs.bind("mouseover",{elem:this},this.showVImgTooltip);this._$tooltip.data("right",
!1).addClass("img-left");break;default:this._$thumbs.bind("mouseover",{elem:this},this.showHImgTooltip),this._$tooltip.data("bottom",!1).addClass("img-up")}this._$thumbs.bind("mouseout",{elem:this},this.hideTooltip)}if(z(6))try{this._$tooltip.css("background-image","none").children().css("margin",0)}catch(d){}};d.prototype.showHImgTooltip=function(a){a=a.data.elem;var b=a._$tooltip.find(">img").eq(h(this).index());if(b.attr("src")&&(a._$tooltip.find(">img").hide(),b.show(),b[0].complete||"complete"==
b[0].readyState)){var b=a._$tooltip.data("bottom")?h(this).outerHeight():-a._$tooltip.outerHeight(),c=h(this).offset();a._$tooltip.css({top:c.top+b,left:c.left+(h(this).outerWidth()-a._$tooltip.outerWidth())/2}).stop(!0,!0).delay(600).fadeIn(300)}};d.prototype.showVImgTooltip=function(a){a=a.data.elem;var b=a._$tooltip.find(">img").eq(h(this).index());if(b.attr("src")&&(a._$tooltip.find(">img").hide(),b.show(),b[0].complete||"complete"==b[0].readyState)){var b=a._$tooltip.data("right")?h(this).outerWidth():
-a._$tooltip.outerWidth(),c=h(this).offset();a._$tooltip.css({top:c.top+(h(this).outerHeight()-a._$tooltip.outerHeight())/2,left:c.left+b}).stop(!0,!0).delay(600).fadeIn(300)}};d.prototype.showTooltip=function(a){var b=a.data.elem,c=b._$items[h(this).index()].data("caption");""!=c&&(b._$tooltip.find(">div.tt-txt").html(c),c=b._$tooltip.data("bottom")?0:-b._$tooltip.outerHeight(!0),b._$tooltip.css({top:a.pageY+c,left:a.pageX}).stop(!0,!0).delay(600).fadeIn(300))};d.prototype.moveTooltip=function(a){var b=
a.data.elem,c=b._$tooltip.data("bottom")?0:-b._$tooltip.outerHeight(!0);b._$tooltip.css({top:a.pageY+c,left:a.pageX})};d.prototype.hideTooltip=function(a){try{("undefined"!=typeof a?a.data.elem:this)._$tooltip.stop(!0,!0).hide()}catch(b){}};d.prototype.displayCPanel=function(a){var b=a.data.elem,c={};c[a.data.dir]=b._$cpanel.data("pos");c.opacity=1;b._$cpanel.stop(!0).animate(c,500)};d.prototype.hideCPanel=function(a){var b=a.data.elem,c={};c[a.data.dir]=b._$cpanel.data("offset");c.opacity=0;b._$cpanel.stop(!0).animate(c,
500)};d.prototype.showSideButtons=function(a){a=a.data.elem;a._$sPrev.stop(!0).animate({left:0},500);a._$sNext.stop(!0).animate({"margin-left":-a._$sNext.width()},500)};d.prototype.hideSideButtons=function(a){a=a.data.elem;a._$sPrev.stop(!0).animate({left:-a._$sPrev.width()},500);a._$sNext.stop(!0).animate({"margin-left":0},500)};d.prototype.selectItem=function(a){var b=a.data.elem;a=h(a.target);"LI"!=a[0].nodeName&&(a=a.parents("li").eq(0));a=a.index();-1<a&&a!=b._currIndex&&(b._dir=a<b._currIndex?
0:1,b.resetTimer(),b._prevIndex=b._currIndex,b._currIndex=a,b.loadContent(b._currIndex),b.hideTooltip());return!1};d.prototype.prevImg=function(a){a="undefined"!=typeof a?a.data.elem:this;a._dir=0;a.resetTimer();a._prevIndex=a._currIndex;a._currIndex=0<a._currIndex?a._currIndex-1:a._numItems-1;a.loadContent(a._currIndex);return!1};d.prototype.nextImg=function(a){a="undefined"!=typeof a?a.data.elem:this;a._dir=1;a.resetTimer();a._prevIndex=a._currIndex;a._currIndex=a._currIndex<a._numItems-1?a._currIndex+
1:0;a.loadContent(a._currIndex);return!1};d.prototype.togglePlay=function(a){a=a.data.elem;a._rotate=!a._rotate;a._$playBtn.toggleClass("pause",a._rotate);a._rotate?a.startTimer():a.pauseTimer();return!1};d.prototype.play=function(a){a=a.data.elem;a._rotate=!0;a._$playBtn.addClass("pause");a.startTimer()};d.prototype.pause=function(a){a=a.data.elem;a._rotate=!1;a._$playBtn.removeClass("pause");a.pauseTimer()};d.prototype.pauseLast=function(a){a==this._numItems-1&&(this._rotate=!1,this._$playBtn.removeClass("pause"))};
d.prototype.updateText=function(a){a=a.data.elem;if(!a._$textBox.data("visible")){a._$textBox.data("visible",!0);var b=a._$items[a._currIndex].find(">div:first").html();if(b&&0<b.length){var c=a._$items[a._currIndex].data("textbox");a._$innerText.css("color",c.color);a._$textBox.find(".inner-bg").css({"background-color":c.bgcolor,height:c.h-1});switch(m[a._textEffect]){case m.fade:a.fadeInText(b,c);break;case m.down:a.expandText(b,c,{width:c.w,height:0},{height:c.h});break;case m.right:a.expandText(b,
c,{width:0,height:c.h},{width:c.w});break;case m.left:a.expandText(b,c,{"margin-left":c.w,width:0,height:c.h},{width:c.w,"margin-left":0});break;case m.up:a.expandText(b,c,{"margin-top":c.h,height:0,width:c.w},{height:c.h,"margin-top":0});break;default:a.showText(b,c)}}}};d.prototype.resetText=function(){this._$textBox.data("visible",!1).stop(!0,!0);switch(m[this._textEffect]){case m.fade:case m.down:case m.right:case m.left:case m.up:B&&this._$innerText.css("opacity",0);this._$textBox.fadeOut(500,
function(){h(this).css("display","none")});break;default:this._$textBox.css("display","none")}};d.prototype.expandText=function(a,b,c,d){var e=this;this._$innerText.css("opacity",1).html("");this._$textBox.stop(!0,!0).css({display:"block",top:b.y,left:b.x,"margin-top":0,"margin-left":0}).css(c).animate(d,500,function(){e._$innerText.html(a)})};d.prototype.fadeInText=function(a,b){var c=this;this._$innerText.css("opacity",1).html(a);this._$textBox.css({top:b.y,left:b.x,width:b.w,height:b.h}).stop(!0,
!0).fadeIn(500,function(){B&&c._$innerText[0].style.removeAttribute("filter")})};d.prototype.showText=function(a,b){this._$textBox.stop(!0).css({display:"block",top:b.y,left:b.x,width:b.w,height:b.h});this._$innerText.html(a)};d.prototype.displayText=function(a){a=a.data.elem;a._$rotator.unbind("updatetext").bind("updatetext",{elem:a},a.updateText).trigger("updatetext")};d.prototype.hideText=function(a){a=a.data.elem;a._$rotator.unbind("updatetext");a.resetText()};d.prototype.loadContent=function(a){this._$rotator.trigger("updatelist");
this._playOnce&&this.pauseLast(a);this._$thumbs.filter(".curr-thumb").removeClass("curr-thumb");this._$thumbs.eq(a).addClass("curr-thumb");this._delay=this._$items[a].data("delay");this.resetText();this._textSync||this._$rotator.trigger("updatetext");if(this._$mainLink){var b=this._$items[a].find(">a:nth-child(2)"),c=b.attr("href");c?this._$mainLink.unbind("click",x).css("cursor","pointer").attr({href:c,target:b.attr("target")}):this._$mainLink.click(x).css("cursor","default")}if(this._$items[a].data("img"))this._$preloader.hide(),
this.displayContent(this._$items[a].data("img"));else{var d=this,b=h("<img class='main-img'/>");b.load(function(){d._$preloader.hide();d.storeImg(d._$items[a],h(this));d.displayContent(h(this))}).error(function(){alert("Error loading image")});this._$preloader.show();b.attr("src",this._$items[a].data("imgurl"))}};d.prototype.displayContent=function(a){this._vStripeEffect&&this._vStripes.clear();this._hStripeEffect&&this._hStripes.clear();this._blockEffect&&this._blocks.clear();(this._vStripeEffect||
this._hStripeEffect||this._blockEffect)&&this.setPrevious();var b=this._$items[this._currIndex].data("effect");b==g.none||"undefined"==typeof b?this.showContent(a):b==g.fade?this.fadeInContent(a):b==g["h.slide"]?this.slideContent(a,"left",this._screenWidth):b==g["v.slide"]?this.slideContent(a,"top",this._screenHeight):(b==g.random&&(b=Math.floor(Math.random()*(e-5))),b<=g["spiral.out"]?this._blocks.displayContent(a,b):b<=g["vert.random.fade"]?this._vStripes.displayContent(a,b):this._hStripes.displayContent(a,
b))};d.prototype.setPrevious=function(){if(0<=this._prevIndex){var a=this._$mainLink.find("img#curr-img").attr("src"),b=this._$items[this._prevIndex].data("imgurl");a!=b&&(this._$mainLink.find("img.main-img").attr("id","").hide(),this._$mainLink.find("img.main-img").filter(function(){return h(this).attr("src")==b}).eq(0).show())}};d.prototype.showContent=function(a){this._textSync&&this._$rotator.trigger("updatetext");this._$mainLink.find("img.main-img").attr("id","").hide();a.attr("id","curr-img").show();
this.startTimer()};d.prototype.fadeInContent=function(a){var b=this;this._$mainLink.find("img#curr-img").stop(!0,!0);this._$mainLink.find("img.main-img").attr("id","").css("z-index",0);a.attr("id","curr-img").stop(!0,!0).css({opacity:0,"z-index":1}).show().animate({opacity:1},this._duration,this._easing,function(){b._$mainLink.find("img.main-img:not('#curr-img')").hide();b._textSync&&b._$rotator.trigger("updatetext");b.startTimer()})};d.prototype.slideContent=function(a,b,c){this._$strip.stop(!0,
!0);var d=h("#curr-img",this._$strip);if(0<d.size()){this._$strip.find(".main-img").attr("id","").parents(".content-box").css({top:0,left:0});a.attr("id","curr-img").parents(".content-box").show();var e;0==this._dir?(this._$strip.css(b,-c),e=d,a=0):(e=a,a=-c);e.parents(".content-box").css(b,c);b="top"==b?{top:a}:{left:a};var f=this;this._$strip.stop(!0,!0).animate(b,this._duration,this._easing,function(){f._$strip.find(".main-img:not('#curr-img')").parents(".content-box").hide();f._$strip.find("#curr-img").parents(".content-box").show();
e.parents(".content-box").css({top:0,left:0});f._$strip.css({top:0,left:0});f._textSync&&f._$rotator.trigger("updatetext");f.startTimer()})}else this._$strip.css({top:0,left:0}),this._$strip.find(".main-img").parents(".content-box").hide().css({top:0,left:0}),a.attr("id","curr-img").parents(".content-box").show(),this._textSync&&this._$rotator.trigger("updatetext"),this.startTimer()};d.prototype.loadImg=function(a){try{var b=this._$items[a],c=h("<img class='main-img'/>"),d=this;c.load(function(){b.data("img")||
d.storeImg(b,h(this));a++;a<d._numItems&&d.loadImg(a)}).error(function(){a++;a<d._numItems&&d.loadImg(a)});c.attr("src",b.data("imgurl"))}catch(e){}};d.prototype.storeImg=function(a,b){if("h.slide"==this._globalEffect||"v.slide"==this._globalEffect){this._$strip.append(b);this.centerImg(b);var c=h("<div class='content-box'></div>").css({width:this._screenWidth,height:this._screenHeight});b.wrap(c);b.css("display","block");(c=a.find(">a:nth-child(2)"))&&b.wrap(c)}else this._$mainLink.append(b),this.centerImg(b);
a.data("img",b)};d.prototype.centerImg=function(a){this._autoCenter&&0<a.width()&&0<a.height()&&a.css({top:(this._screenHeight-a.height())/2,left:(this._screenWidth-a.width())/2})};d.prototype.startTimer=function(){if(this._rotate&&null==this._timerId){var a=this,b=Math.round(this._$timer.data("pct")*this._delay);this._$timer.stop(!0).animate({width:this._screenWidth-10},b,"linear");this._timerId=setTimeout(function(b){a._dir=1;a.resetTimer();a._prevIndex=a._currIndex;a._currIndex=a._currIndex<a._numItems-
1?a._currIndex+1:0;a.loadContent(a._currIndex)},b)}};d.prototype.resetTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(!0).width(0).data("pct",1)};d.prototype.pauseTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(!0);var a=1-this._$timer.width()/(this._screenWidth+1);this._$timer.data("pct",a)};d.prototype.stopList=function(a){a.data.elem._$list.stop(!0)};d.prototype.shuffleItems=function(){for(var a=this._$thumbs.toArray(),b=0;b<this._numItems;b++){var c=
Math.floor(Math.random()*this._numItems),d=a[b];a[b]=a[c];a[c]=d}for(b=0;b<this._numItems;b++)this._$list.append(h(a[b]));this._$thumbs=this._$list.find(">li")};d.prototype.checkEffect=function(a){a==g.random?this._blockEffect=this._hStripeEffect=this._vStripeEffect=!0:a<=g["spiral.out"]?this._blockEffect=!0:a<=g["vert.random.fade"]?this._vStripeEffect=!0:a<=g["horz.random.fade"]&&(this._hStripeEffect=!0)};d.prototype.mouseScrollContent=function(a){var b=a.data.elem;b._$strip.is(":animated")||(0<
("undefined"==typeof a.originalEvent.wheelDelta?-a.originalEvent.detail:a.originalEvent.wheelDelta)?b.prevImg():b.nextImg());return!1};h.fn.wtRotator=function(a){var b=h.extend({},{width:825,height:300,thumb_width:24,thumb_height:24,button_width:24,button_height:24,button_margin:4,auto_start:!0,delay:5E3,transition:"fade",transition_speed:800,cpanel_position:"inside",cpanel_align:"BR",timer_align:"top",display_thumbs:!0,display_side_buttons:!1,display_dbuttons:!0,display_playbutton:!0,display_imgtooltip:!0,
display_numbers:!0,display_thumbimg:!1,display_timer:!0,mouseover_select:!1,mouseover_pause:!1,cpanel_mouseover:!1,text_mouseover:!1,text_effect:"fade",text_sync:!0,tooltip_type:"text",shuffle:!1,play_once:!1,auto_center:!1,block_size:75,vert_size:50,horz_size:50,block_delay:25,vstripe_delay:75,hstripe_delay:75,easing:"",mousewheel_scroll:!0},a);return this.each(function(){new d(h(this),b)})}})(jQuery);
