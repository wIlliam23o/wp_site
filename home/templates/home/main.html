<!DOCTYPE html>
{% load wp_tags %}
{% load wp_nodes %}
<html>
<head>
	<title>
		Welborn Productions
		{% if request|is_test_site %}
			- Test Site
		{% endif %}
		{% block title %}
		{% endblock %}
	</title>

	<!-- Meta Info -->
	<meta charset='utf-8'/>
	{% block metainfo %}
		{# This meta info should be overridden per-page by using the metainfo block. #}
		{# It's only here as a backup, and only provides a very generic description. #}
		<meta name='description' content='Welborn Productions - Projects, Scripts, Tools, Blog, and Web Applications.'>
	{% endblock %}

	<!-- FavIcon -->
	<link type='image/x-icon' rel='icon' href='/static/images/favicon.ico'/>
    <link type='image/x-icon' rel='shortcut icon' href='/static/images/favicon.ico'/> <!-- vnd.microsoft.icon'-->

	<!-- CSS Links -->
 	<link type='text/css' rel='stylesheet' href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400|Open+Sans:400italic,600italic,700italic,800italic,400,800,600,700|Ubuntu+Mono:400,700,400italic,700italic'/>
 	<link type='text/css' rel='stylesheet' href='/static/css/main.min.css'/>
	<link type='text/css' rel='stylesheet' href='/static/css/dock.min.css' media='screen'/>
	<link type='text/css' rel='stylesheet' href='/static/css/wt-rotator.min.css'/>

	<!-- Browser-Specific or Extra CSS Files (Browser detected in views...) -->
	{% block extrastylelink %}
		{% if extra_style_link_list %}
			<!-- add all extra style links -->
			{% for extra_link in extra_style_link_list %}
				<link type='text/css' rel='stylesheet' href='{{ extra_link }}'/>
			{% endfor %}
			<!-- add highlighter css if not already added for debug (test-site) -->
			{% if request|is_test_site %}
				{% if not extra_style_link_list|contains:'/static/css/highlighter.min.css' %}
					<link type='text/css' rel='stylesheet' href='/static/css/highlighter.min.css'/>
				{% endif %}
			{% endif %}
		{% else %}
			<!-- no extra style, but we need highlighter css for debug (test-site) -->
			{% if request|is_test_site %}
				<link type='text/css' rel='stylesheet' href='/static/css/highlighter.min.css'/>
			{% endif %}
		{% endif %}
	{% endblock %}

	<!-- Custom Local CSS -->
	{% block extrastyle %}
		{% if extra_style %}
			<style type='text/css'>
				{{ extra_style }}
			</style>
		{% endif %}
	{% endblock %}

	<!-- Dock (No Javascript/Mobile Site)-->
	{% if request|is_mobile %}
		<style type='text/css'>
			<!-- Fixes mobile view of menus -->
			#dock { top: -32px; }
			a.dock-item { position: relative; float: left; margin-right: 30px; }
			a.dock-item:hover { color: #9c9c9c; }
			a.dock-item:active { color: #9c9c9c; }
			.dock-item span { display: block; }

			.vertical-menu { top: 200px; }
			.menubar { margin-top: 0px; }

		</style>
	{% else %}
		<noscript>
			<style type='text/css'>
				#dock { top: -32px; }
				a.dock-item { position: relative; float: left; margin-right: 30px; }
				a.dock-item:hover { color: #9c9c9c; }
				a.dock-item:active { color: #9c9c9c; }
				.dock-item span { display: block; }

			</style>
		</noscript>
	{% endif %}

	<!-- Javascript: jQuery -->
	{# <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js'></script> #}
	{# Using latest jQuery #}
	<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js'></script>
	<script type='text/javascript' src='/static/js/jquery.cookie.min.js'></script>
	<script type='text/javascript' src='/static/js/jqueryui/jquery-ui.min.js'></script>

	<!-- Javascript: Fisheye Dock -->
	{% if request|is_mobile %}
		<!-- No dock js loaded on mobile site. It doesn't work well with touch screens. -->
	{% else %}
		<script type='text/javascript' src='/static/js/dock.min.js'></script>
		<script type='text/javascript' src='/static/js/fisheye-iutil.min.js'></script>
	{% endif %}

	<!-- Javascript: Image Rotator -->
	<script type='text/javascript' src='/static/js/jquery.wt-rotator-wp.min.js'></script>
	<script type='text/javascript' src='/static/js/jquery.easing.1.3.min.js'></script>
	<!-- Javascript: Local Tools (email protection) -->
	<script type='text/javascript' src='/static/js/wptools.min.js'></script>

	<!-- Extra Javascript Files (passed by view) -->
	{% if extra_js_files %}
		{% for jsrc in extra_js_files %}
			<script type='text/javascript' src='{{ jsrc }}'></script>
		{% endfor %}
	{% endif %}
	<!-- EXTRA JAVASCRIPT (per page) -->
	{% block javascript %}
	{% endblock %}

	<!-- Extra Head (could be anything) -->
	{% block extrahead %}
	{% endblock %}
</head>

<!-- MAIN PAGE -->
<body>
	{% block body-javascript %}
	{% endblock %}

	<!-- RSS Feed -->
	<!-- <link href='http://feeds.feedburner.com/WelbornProductions' type='application/rss+xml' rel='alternate' /> -->

   	<!-- Debug box -->
	{% block debug-box %}
	   	{% if request|debug_allowed and request|is_test_site and request.user.is_staff %}
	   		<!-- show/hide debug btn (top button) -->
	   		<div class='debug-button' id='debug-button-top'>
	   			<a href='#' onclick='javascript: wptools.toggle_debug();'>
	   				<span class='debug-button-text'>
	   					show debug
	   				</span>
	   			</a>
	   		</div>
	   		<div class='debug-box'>
	   			<!-- debug info -->
	   			{% filter highlight_python %}
	   				{% debug %}
	   			{% endfilter %}
	   			<!-- hide debug btn -->
	   			<div class='debug-button' id='debug-button-bottom'>
	   				<a href='#' onclick='javascript: wptools.toggle_debug();'>
	   					<span class='debug-button-text'>
	   						hide debug
	   					</span>
	  				</a>
	   			</div>
	   		</div>
	   	{% endif %}
	{% endblock %}

	{% if request|is_test_site and not request.user.is_staff %}
		<!-- Build alert_message for test site. -->
		<div id='alert-box' class='alert'>
			<div id='alert-title'>
		    	Permission Denied
		    </div>
		</div>
	{% else %}
	    <!-- Alert area built based on alert_content or alert_message. -->
	    {% with default_alert_class="alert" %}
			{% if alert_content %}
				{# html-formatted block for alert-message #}
				<div id='alert-box' class='{% if alert_class %}{{ alert_class }}{% else %}{{ default_alert_class }}{% endif %}'>
					{% if alert_title %}
						<div id='alert-title'>{{ alert_title|safe }}</div>
					{% endif %}
					{{ alert_content|safe }}
				</div>
			{% elif alert_message %}
				{# single alert-message #}
				<div id='alert-box' class='{% if alert_class %}{{ alert_class }}{% else %}{{ default_alert_class }}{% endif %}'>
					{% if alert_title %}
						<div id='alert-title'>{{ alert_title|safe }}</div>
					{% endif %}
					<span class='alert-message'>{{ alert_message|safe }}</span>
				</div>
			{% endif %}
		{% endwith %}
	{% endif %}
	<!-- Whole Page Container (Background and everything inside) -->
	<div id='bg-surround'>
	    <div id='bg-pattern' class='main-pattern'>
	    	<div class='pattern-gradient'></div>
		</div>

		<!-- Content based on live/test site and access. -->
		{#{% if false %} {# <-- TESTING PURPOSES #}
		{% if request|is_test_site and not request.user.is_staff %}
		    <!-- Show no access msg for non-admins on test site. -->
			<div id='page-surround' class='wp-block'>
				<div class='error-noaccess-message'>
					Sorry, you do not have access to the test site.
				</div>
			</div>

		{% else %}

			<!-- Floating Box placeholder -->
			{% block floater %}
			{% endblock %}

			<!-- Vertical menu placeholder -->
			{% block verticalmenu %}
				{% if vertical_menu %}
					{{ vertical_menu }}
				{% endif %}
			{% endblock %}

			<div class='wp-container'>
				<!-- LOGO -->
				<a href='/'>
					<div class='wp-block' id='wp-logo'></div>
				</a>


		        <!-- Navigation -->
		        <div class='wp-block navigation'>
		        	<div class='menubar'>
						<div id='dock'>
							<div class='dock-container' id='dock-box' style='left: 0px;'>
									<a class='dock-item' id='dock-home' href='/'>
										<span>Home</span>
										<img src='/static/images/dock/wp-home.png' alt='home'/>
									</a>
									<a class='dock-item' id='dock-projects' href='/projects'>
										<span>Projects</span>
										<img src='/static/images/dock/wp-projects.png' alt='projects'/>
									</a>
									<a class='dock-item' id='dock-apps' href='/apps'>
										<span>Apps</span>
										<img src='/static/images/dock/wp-apps.png' alt='apps'/>
									</a>
									<a class='dock-item' id='dock-misc' href='/misc'>
									    <span>Misc.</span>
									    <img src='/static/images/dock/wp-misc.png' alt='misc'/>
									</a>
									<a class='dock-item' id='dock-paste' href='/paste'>
										<span>Paste</span>
										<img src='/static/images/dock/wp-paste.png' alt='paste'/>
									</a>
									<a class='dock-item' id='dock-img' href='/img'>
										<span>Images</span>
										<img src='/static/images/dock/wp-img.png' alt='images'/>
									</a>
									<a class='dock-item' id='dock-blog' href='/blog'>
										<span>Blog</span>
										<img src='/static/images/dock/wp-blog.png' alt='blog'/>
									</a>
									<a class='dock-item' id='dock-about' href='/about'>
										<span>About</span>
										<img src='/static/images/dock/wp-about.png' alt='about'/>
									</a>
									<a class='dock-item' id='dock-search' href='/search'>
										<span>Search</span>
										<img src='/static/images/dock/wp-search.png' alt='search'/>
									</a>

							</div>
						</div>
		        	</div>
		        </div>

				<!-- Page Surround -->
		        <div id='page-surround' class='wp-block'>
					<!-- Above Page Content -->
					{% block contentabove %}
					{% endblock %}

					<!-- Actual page content. -->
					{% block content %}
						{% if main_content %}
							{{ main_content }}
						{% endif %}
					{% endblock %}

					<!-- Comments for applicable pages -->
					{% if enable_comments %}
						<!-- DISQUS COMMENTS -->
						<div class='comments-box' id='comments-box'>
							<div class='title-box'>
								<h1 class='title'>Comments</h1>
							</div>
	 						<div id='disqus_thread'>
	 						</div>
							<!-- Comments Javascript -->
	    					<script type='text/javascript'>
	      						var disqus_shortname = 'welbornproductions';
								{% block disqusvariables %}
								{% endblock %}
	        					(function() {
	          						var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	          	 					dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	           						(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	        						})();
	        					(function () {
	        						var s = document.createElement('script'); s.async = true;
	        						s.type = 'text/javascript';
	        						s.src = '//' + disqus_shortname + '.disqus.com/count.js';
	       				 			(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	    							}());
	    					</script>

	    					<noscript>
	    						Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a>
	    					</noscript>
	   				 		<a href='http://disqus.com' class='dsq-brlink'>
	   				 			comments powered by <span class='logo-disqus'>Disqus</span>
	   				 		</a>
						</div>
					{% endif %}

		    	</div>
		    </div>
		{% endif %}

		<!-- Google Ads -->
		{% ad_bottom %}

		<div class='wp-block donations'>
			<!-- Paypal donation form -->
			<form action='https://www.paypal.com/cgi-bin/webscr' method='post' target='blank'>
				<input type='hidden' name='cmd' value='_s-xclick'>
				<input type='hidden' name='encrypted' value='-----BEGIN PKCS7-----MIIHTwYJKoZIhvcNAQcEoIIHQDCCBzwCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYC9dHVP4s11sxgiOiTXeU06uRuu0TQ8Mo0wq3IUXbDpQYK4pTVDHdzrAjIfaS/yzG/VUZSWiSa4SMxB3NhOYXwtlodvi3kaQkIKdxVGPrb5IMMVv2tAjxIPbt4zUfwicEme7QZ0hu6F40uNMRODxWfUpWJEdx6YdFwUbxyA9TLp/zELMAkGBSsOAwIaBQAwgcwGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIOzs84iQV0uaAgahcXqqjdNzPUuE5l9AOyrTLbshkdXRy8Sp4fTSXBJZvNbjAHVBjd8bbtkbYdOphzOghPvrHkfiutXjo9djXiUlUT7QmoTBkgauBXKchvdaYnsDUXCkvXpOn4JWeyI/C4b5Cwq1p98+9kRUzCyhcAwCySFMkm27NzacKntnznpch5211HmYlwFxcroXUn8IEiGBJGBdYdwzCYbqMzewiTTKjJygBh2/+J9GgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzAxMDUwNDM1NDhaMCMGCSqGSIb3DQEJBDEWBBT+CkAv4b64qkBAxXQW+wzkzzVMcTANBgkqhkiG9w0BAQEFAASBgE4MMafM5LlKrlaXefnz9+jm4lqou2JxZH09nMTq+HFXt6kS1oJ+LjHohmV++MyX1Y7wqEQ51AZqfJ/C1dz9XtSadB9Cva3+5ZLiOZitEjfprAj8WFcnVgV4uT8lHoqItIcJOLKeHsx/bHlJOfE8yu5AOGvBZfhOS13wjeXABX5m-----END PKCS7-----'>

				<!-- Description -->
				<span class='donations-desc'>
				If you would like to donate to welborn productions, you can do so here:
				</span>

				<!-- Button -->
				<input type='image' style='margin-bottom: -5px; margin-left: 5px;' src='https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif' border='0' name='submit' alt='PayPal - The safer, easier way to pay online!'>
				<img alt='Donate to welborn prod.' border='0' src='https://www.paypalobjects.com/en_US/i/scr/pixel.gif' width='1' height='1'>
			</form>
		</div>
	</div>
	<div class='wp-block bottom'>
		<div id='copyright'>
			<span class='copytext'>copyright 2013-2014 welborn productions</span>
		</div>
		<div class='totop-block'>
			<a href='#' id='wp-totop' style='outline: none;'>
				<span class='totop-desc'>top</span>
			</a>
		</div>
	</div>

	<!-- Email protection (reveal base64 encoded addresses with the wp-address class.)-->
	<script type='text/javascript'>
		$(document).ready( function () {
			wptools.wpreveal('.wp-address');
			<!-- fix iFisheyes weird dock positioning. -->
			var dockbox = $('#dock-box');
			if (dockbox.length) {
				// Some error pages don't have the dock-box.
				$('#dock-box').css({'left':'0px'});
			}

			{# Make alert messages clickable. #}
			{% if alert_message or alert_content %}
				var alertbox = $('#alert-box');
				$(alertbox).slideDown();
				$(alertbox).click(function () {
					$('#alert-box').slideUp();
				});
				setTimeout(function () { $(alertbox).slideUp(); }, 5000);

			{% elif request|is_test_site and not request.user.is_staff %}
				var alertbox = $('#alert-box');
				$(alertbox).slideDown();
				$(alertbox).click(function () {
					$('#alert-box').slideUp();
				});
			{% endif %}
		});
	</script>

	<!-- Google Tracking - Universal Analytics code -->
	{% tracking_google %}

	<!-- For inserting JS before closing BODY tag -->
	{% block bodyend %}
	{% endblock %}
</body>
</html>
